/**
 * Mock data for testing. Realistic AT Protocol forum data
 * matching barazo-api response schemas.
 */

import type {
  CategoryTreeNode,
  CategoryWithTopicCount,
  Topic,
  Reply,
  Notification,
  SearchResult,
} from '@/lib/api/types'

const COMMUNITY_DID = 'did:plc:test-community-123'
const NOW = '2026-02-14T12:00:00.000Z'
const YESTERDAY = '2026-02-13T12:00:00.000Z'
const TWO_DAYS_AGO = '2026-02-12T12:00:00.000Z'

// --- Users ---

export const mockUsers = [
  { did: 'did:plc:user-alice-001', handle: 'alice.bsky.social' },
  { did: 'did:plc:user-bob-002', handle: 'bob.bsky.social' },
  { did: 'did:plc:user-carol-003', handle: 'carol.example.com' },
  { did: 'did:plc:user-dave-004', handle: 'dave.bsky.social' },
  { did: 'did:plc:user-eve-005', handle: 'eve.forum.example' },
] as const

// --- Categories ---

export const mockCategories: CategoryTreeNode[] = [
  {
    id: 'cat-general',
    slug: 'general',
    name: 'General Discussion',
    description: 'Talk about anything related to the community',
    parentId: null,
    sortOrder: 0,
    communityDid: COMMUNITY_DID,
    maturityRating: 'safe',
    createdAt: TWO_DAYS_AGO,
    updatedAt: TWO_DAYS_AGO,
    children: [],
  },
  {
    id: 'cat-dev',
    slug: 'development',
    name: 'Development',
    description: 'Technical discussions, code, and project updates',
    parentId: null,
    sortOrder: 1,
    communityDid: COMMUNITY_DID,
    maturityRating: 'safe',
    createdAt: TWO_DAYS_AGO,
    updatedAt: TWO_DAYS_AGO,
    children: [
      {
        id: 'cat-frontend',
        slug: 'frontend',
        name: 'Frontend',
        description: 'UI, UX, and frontend frameworks',
        parentId: 'cat-dev',
        sortOrder: 0,
        communityDid: COMMUNITY_DID,
        maturityRating: 'safe',
        createdAt: TWO_DAYS_AGO,
        updatedAt: TWO_DAYS_AGO,
        children: [],
      },
      {
        id: 'cat-backend',
        slug: 'backend',
        name: 'Backend',
        description: 'APIs, databases, and server infrastructure',
        parentId: 'cat-dev',
        sortOrder: 1,
        communityDid: COMMUNITY_DID,
        maturityRating: 'safe',
        createdAt: TWO_DAYS_AGO,
        updatedAt: TWO_DAYS_AGO,
        children: [],
      },
    ],
  },
  {
    id: 'cat-feedback',
    slug: 'feedback',
    name: 'Feedback & Ideas',
    description: 'Suggestions and feature requests',
    parentId: null,
    sortOrder: 2,
    communityDid: COMMUNITY_DID,
    maturityRating: 'safe',
    createdAt: TWO_DAYS_AGO,
    updatedAt: TWO_DAYS_AGO,
    children: [],
  },
  {
    id: 'cat-meta',
    slug: 'meta',
    name: 'Meta',
    description: 'About this community',
    parentId: null,
    sortOrder: 3,
    communityDid: COMMUNITY_DID,
    maturityRating: 'safe',
    createdAt: TWO_DAYS_AGO,
    updatedAt: TWO_DAYS_AGO,
    children: [],
  },
]

export const mockCategoryWithTopicCount: CategoryWithTopicCount = {
  ...mockCategories[0]!,
  topicCount: 12,
}

// --- Topics ---

export const mockTopics: Topic[] = [
  {
    uri: `at://${mockUsers[0]!.did}/forum.barazo.topic.post/3kf1abc`,
    rkey: '3kf1abc',
    authorDid: mockUsers[0]!.did,
    title: 'Welcome to Barazo Forums',
    content: 'This is the first topic on our new federated forum platform.',
    contentFormat: null,
    category: 'general',
    tags: ['welcome', 'introduction'],
    communityDid: COMMUNITY_DID,
    cid: 'bafyreib1',
    replyCount: 5,
    reactionCount: 12,
    lastActivityAt: NOW,
    createdAt: TWO_DAYS_AGO,
    indexedAt: TWO_DAYS_AGO,
  },
  {
    uri: `at://${mockUsers[1]!.did}/forum.barazo.topic.post/3kf2def`,
    rkey: '3kf2def',
    authorDid: mockUsers[1]!.did,
    title: 'Building with the AT Protocol',
    content: 'A deep dive into building applications on the AT Protocol.',
    contentFormat: null,
    category: 'development',
    tags: ['atproto', 'tutorial'],
    communityDid: COMMUNITY_DID,
    cid: 'bafyreib2',
    replyCount: 8,
    reactionCount: 23,
    lastActivityAt: YESTERDAY,
    createdAt: TWO_DAYS_AGO,
    indexedAt: TWO_DAYS_AGO,
  },
  {
    uri: `at://${mockUsers[2]!.did}/forum.barazo.topic.post/3kf3ghi`,
    rkey: '3kf3ghi',
    authorDid: mockUsers[2]!.did,
    title: 'Feature Request: Dark Mode Improvements',
    content: 'I would love to see more theme customization options.',
    contentFormat: null,
    category: 'feedback',
    tags: ['feature-request', 'ui'],
    communityDid: COMMUNITY_DID,
    cid: 'bafyreib3',
    replyCount: 3,
    reactionCount: 7,
    lastActivityAt: YESTERDAY,
    createdAt: YESTERDAY,
    indexedAt: YESTERDAY,
  },
  {
    uri: `at://${mockUsers[3]!.did}/forum.barazo.topic.post/3kf4jkl`,
    rkey: '3kf4jkl',
    authorDid: mockUsers[3]!.did,
    title: 'Understanding Portable Identity',
    content: 'How does identity work across federated services?',
    contentFormat: null,
    category: 'general',
    tags: ['identity', 'federation'],
    communityDid: COMMUNITY_DID,
    cid: 'bafyreib4',
    replyCount: 15,
    reactionCount: 31,
    lastActivityAt: NOW,
    createdAt: YESTERDAY,
    indexedAt: YESTERDAY,
  },
  {
    uri: `at://${mockUsers[4]!.did}/forum.barazo.topic.post/3kf5mno`,
    rkey: '3kf5mno',
    authorDid: mockUsers[4]!.did,
    title: 'Self-Hosting Guide',
    content: 'Step-by-step guide to running your own Barazo instance.',
    contentFormat: null,
    category: 'meta',
    tags: ['self-hosting', 'guide'],
    communityDid: COMMUNITY_DID,
    cid: 'bafyreib5',
    replyCount: 2,
    reactionCount: 9,
    lastActivityAt: NOW,
    createdAt: NOW,
    indexedAt: NOW,
  },
]

// --- Replies ---

const TOPIC_URI = mockTopics[0]!.uri
const TOPIC_CID = mockTopics[0]!.cid

// --- Search Results ---

export const mockSearchResults: SearchResult[] = [
  {
    type: 'topic',
    uri: mockTopics[0]!.uri,
    rkey: mockTopics[0]!.rkey,
    authorDid: mockTopics[0]!.authorDid,
    title: 'Welcome to Barazo Forums',
    content: 'This is the first topic on our new federated forum platform.',
    category: 'general',
    communityDid: COMMUNITY_DID,
    replyCount: 5,
    reactionCount: 12,
    createdAt: TWO_DAYS_AGO,
    rank: 0.95,
    rootUri: null,
    rootTitle: null,
  },
  {
    type: 'topic',
    uri: mockTopics[1]!.uri,
    rkey: mockTopics[1]!.rkey,
    authorDid: mockTopics[1]!.authorDid,
    title: 'Building with the AT Protocol',
    content: 'A deep dive into building applications on the AT Protocol.',
    category: 'development',
    communityDid: COMMUNITY_DID,
    replyCount: 8,
    reactionCount: 23,
    createdAt: TWO_DAYS_AGO,
    rank: 0.82,
    rootUri: null,
    rootTitle: null,
  },
  {
    type: 'reply',
    uri: `at://${mockUsers[1]!.did}/forum.barazo.reply.post/3kf6aaa`,
    rkey: '3kf6aaa',
    authorDid: mockUsers[1]!.did,
    title: null,
    content: 'Welcome! Excited to see this forum take shape.',
    category: null,
    communityDid: COMMUNITY_DID,
    replyCount: null,
    reactionCount: 4,
    createdAt: TWO_DAYS_AGO,
    rank: 0.71,
    rootUri: mockTopics[0]!.uri,
    rootTitle: 'Welcome to Barazo Forums',
  },
]

// --- Notifications ---

export const mockNotifications: Notification[] = [
  {
    id: 'notif-1',
    type: 'reply',
    userDid: mockUsers[0]!.did,
    actorDid: mockUsers[1]!.did,
    actorHandle: mockUsers[1]!.handle,
    subjectUri: mockTopics[0]!.uri,
    subjectTitle: 'Welcome to Barazo Forums',
    message: 'bob.bsky.social replied to your topic',
    read: false,
    createdAt: NOW,
  },
  {
    id: 'notif-2',
    type: 'reaction',
    userDid: mockUsers[0]!.did,
    actorDid: mockUsers[2]!.did,
    actorHandle: mockUsers[2]!.handle,
    subjectUri: mockTopics[0]!.uri,
    subjectTitle: 'Welcome to Barazo Forums',
    message: 'carol.example.com reacted to your topic',
    read: false,
    createdAt: YESTERDAY,
  },
  {
    id: 'notif-3',
    type: 'mention',
    userDid: mockUsers[0]!.did,
    actorDid: mockUsers[3]!.did,
    actorHandle: mockUsers[3]!.handle,
    subjectUri: `at://${mockUsers[3]!.did}/forum.barazo.reply.post/3kf6ddd`,
    subjectTitle: null,
    message: 'dave.bsky.social mentioned you in a reply',
    read: true,
    createdAt: YESTERDAY,
  },
  {
    id: 'notif-4',
    type: 'moderation',
    userDid: mockUsers[0]!.did,
    actorDid: mockUsers[4]!.did,
    actorHandle: mockUsers[4]!.handle,
    subjectUri: mockTopics[0]!.uri,
    subjectTitle: 'Welcome to Barazo Forums',
    message: 'Your topic was pinned by a moderator',
    read: true,
    createdAt: TWO_DAYS_AGO,
  },
]

// --- Replies ---

export const mockReplies: Reply[] = [
  {
    uri: `at://${mockUsers[1]!.did}/forum.barazo.reply.post/3kf6aaa`,
    rkey: '3kf6aaa',
    authorDid: mockUsers[1]!.did,
    content: 'Welcome! Excited to see this forum take shape.',
    contentFormat: null,
    rootUri: TOPIC_URI,
    rootCid: TOPIC_CID,
    parentUri: TOPIC_URI,
    parentCid: TOPIC_CID,
    communityDid: COMMUNITY_DID,
    cid: 'bafyreir1',
    depth: 0,
    reactionCount: 4,
    createdAt: TWO_DAYS_AGO,
    indexedAt: TWO_DAYS_AGO,
  },
  {
    uri: `at://${mockUsers[2]!.did}/forum.barazo.reply.post/3kf6bbb`,
    rkey: '3kf6bbb',
    authorDid: mockUsers[2]!.did,
    content:
      'Thanks for starting this community! The AT Protocol integration is really interesting.',
    contentFormat: null,
    rootUri: TOPIC_URI,
    rootCid: TOPIC_CID,
    parentUri: `at://${mockUsers[1]!.did}/forum.barazo.reply.post/3kf6aaa`,
    parentCid: 'bafyreir1',
    communityDid: COMMUNITY_DID,
    cid: 'bafyreir2',
    depth: 1,
    reactionCount: 2,
    createdAt: YESTERDAY,
    indexedAt: YESTERDAY,
  },
  {
    uri: `at://${mockUsers[0]!.did}/forum.barazo.reply.post/3kf6ccc`,
    rkey: '3kf6ccc',
    authorDid: mockUsers[0]!.did,
    content: 'Agreed! Portable identity changes everything.',
    contentFormat: null,
    rootUri: TOPIC_URI,
    rootCid: TOPIC_CID,
    parentUri: `at://${mockUsers[2]!.did}/forum.barazo.reply.post/3kf6bbb`,
    parentCid: 'bafyreir2',
    communityDid: COMMUNITY_DID,
    cid: 'bafyreir3',
    depth: 2,
    reactionCount: 1,
    createdAt: YESTERDAY,
    indexedAt: YESTERDAY,
  },
  {
    uri: `at://${mockUsers[3]!.did}/forum.barazo.reply.post/3kf6ddd`,
    rkey: '3kf6ddd',
    authorDid: mockUsers[3]!.did,
    content: 'One question: how does content moderation work across federated instances?',
    contentFormat: null,
    rootUri: TOPIC_URI,
    rootCid: TOPIC_CID,
    parentUri: TOPIC_URI,
    parentCid: TOPIC_CID,
    communityDid: COMMUNITY_DID,
    cid: 'bafyreir4',
    depth: 0,
    reactionCount: 6,
    createdAt: NOW,
    indexedAt: NOW,
  },
  {
    uri: `at://${mockUsers[4]!.did}/forum.barazo.reply.post/3kf6eee`,
    rkey: '3kf6eee',
    authorDid: mockUsers[4]!.did,
    content:
      'Great question! Each community has its own moderation policies, but the AT Protocol labeling system allows cross-community signals.',
    contentFormat: null,
    rootUri: TOPIC_URI,
    rootCid: TOPIC_CID,
    parentUri: `at://${mockUsers[3]!.did}/forum.barazo.reply.post/3kf6ddd`,
    parentCid: 'bafyreir4',
    communityDid: COMMUNITY_DID,
    cid: 'bafyreir5',
    depth: 1,
    reactionCount: 8,
    createdAt: NOW,
    indexedAt: NOW,
  },
]
